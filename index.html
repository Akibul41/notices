<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notices</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="notice-container" id="noticeContainer">
   
        <!-- Notices will be dynamically inserted here -->
    </div>

    <script>
        // Function to fetch and display the notices from the JSON file
        function fetchNotices() {
            // Add a timestamp to the URL to avoid cache issues
            const jsonUrl = '/notices.json?t=' + new Date().getTime();

            // Fetch the JSON file
            fetch(jsonUrl)
                .then(response => response.json())  // Parse JSON response
                .then(data => {
                    // Get the notice container element
                    const noticeContainer = document.getElementById('notice-container');
                    noticeContainer.innerHTML = ''; // Clear the container before adding new notices

                    // Loop through each notice and create a box for it
                    data.notices.forEach(notice => {
                        // Create a new div for each notice
                        const noticeBox = document.createElement('div');
                        noticeBox.classList.add('notice-box');

                        // If the notice is new, add the "new" badge
                        if (notice.isNew) {
                            const newBadge = document.createElement('div');
                            newBadge.classList.add('new-badge');
                            newBadge.innerText = 'NEW';
                            noticeBox.appendChild(newBadge);
                        }

                        // Add the notice title and description to the box
                        const title = document.createElement('h3');
                        title.innerText = notice.title;
                        noticeBox.appendChild(title);

                        const description = document.createElement('p');
                        description.innerText = notice.description;
                        noticeBox.appendChild(description);

                        // Append the notice box to the container
                        noticeContainer.appendChild(noticeBox);
                    });
                })
                .catch(error => {
                    console.error('Error fetching notices:', error);
                });
        }

        // Call the fetchNotices function when the page loads
        window.onload = fetchNotices;
    </script>
</body>
</html>
